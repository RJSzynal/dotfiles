#!/usr/bin/env bash
# This script is used to start up GUI applications that are required at startup
# It needs converting to systemd services really

## Keepass
(
	# Wait for the google drive mount to be available
	until [ -f /home/robert/googledrive-home/backup/keepass/home.kdbx ]
		do sleep 1
	done
	printf "%s %s %s:%s\n" $(date -u +'%T') "${0}" 'INFO' 'Run KeePassXC' >> ${HOME}/log/$(date +%F)-userscript.log
	exec keepassxc /home/robert/googledrive-home/backup/keepass/home.kdbx
) &

# ## Firefox
# (
# 	# Wait for the internet connection to be operational
# 	until ping -c1 google.com >/dev/null 2>&1
# 		do sleep 1
# 	done
# 	printf "%s %s %s:%s\n" $(date -u +'%T') "${0}" 'INFO' 'Run Firefox' >> ${HOME}/log/$(date +%F)-userscript.log
# 	exec firefox
# ) &
